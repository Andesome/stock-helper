(this["webpackJsonpstock-helper"]=this["webpackJsonpstock-helper"]||[]).push([[0],[,,,,,,,,,,,function(e,t,a){e.exports=a(20)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),o=a(8),s=a.n(o),r=(a(16),a(9)),i=a(6),l=a(10),m=a(1),u=a(2),p=a(4),d=a(3),f=a(5);a(17);function v(e){return e>0?"red":e<0?"green":"default"}var k=function(e){function t(){return Object(m.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"handleLinkClick",value:function(e){var t=function(e){var t=[{type:0,eq:e.bcFn,color:"#13AD13"},{type:1e3,window:["-300","1500","0","0.2"]}],a=[{type:0,eq:e.jcFn,color:"#ED1717"},{type:1e3,window:["-100","500","-0.1","0.2"]}],c=e.costPrice>e.price?t:a;return"http://fooplot.com/#".concat(window.btoa(JSON.stringify(c)))}(e);window.open(t,e.name)}},{key:"render",value:function(){var e=this,t=this.props.data,a=t.price-t.costPrice,c=v(a);return n.a.createElement("div",{className:"stock-item"},n.a.createElement("h3",null,t.name),n.a.createElement("div",{className:"stock-spc-item"},n.a.createElement("label",{className:"stock-item-label"},a<0?"\u8865\u4ed3\u51fd\u6570":"\u52a0\u4ed3\u51fd\u6570",":"),n.a.createElement("span",{className:"stock-item-value link",onClick:function(){e.handleLinkClick(t)}},a<0?t.bcFn:t.jcFn)),n.a.createElement("div",{className:"stock-spc-item"},n.a.createElement("label",{className:"stock-item-label"},"\u76c8\u4e8f:"),n.a.createElement("span",{className:"stock-item-value ".concat(c)},(a/t.costPrice*100).toFixed(3),"%")),n.a.createElement("div",{className:"stock-spc-item"},n.a.createElement("label",{className:"stock-item-label"},"\u6210\u672c:"),n.a.createElement("span",{className:"stock-item-value"},t.costPrice)),n.a.createElement("div",{className:"white-blank"}),n.a.createElement("div",{className:"stock-spc-item"},n.a.createElement("label",{className:"stock-item-label"},"\u73b0\u4ef7:"),n.a.createElement("span",{className:"stock-item-value"},t.price)),n.a.createElement("div",{className:"stock-spc-item"},n.a.createElement("label",{className:"stock-item-label"},"\u6da8\u5e45:"),n.a.createElement("span",{className:"stock-item-value ".concat(v(t.percent))},(100*t.percent).toFixed(2),"%")))}}]),t}(c.Component);function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return isNaN(e[0])?e.toLowerCase().indexOf("us_")>-1?e.toUpperCase():e.indexOf("hk")>-1?e:e.toLowerCase().replace("sz","1").replace("sh","0"):("6"===e[0]?"0":"1")+e}))}var E=[{name:"\u4f0a\u5229\u80a1\u4efd",code:"600887",costPrice:30.243,position:400},{name:"\u4e2d\u56fd\u5e73\u5b89",code:"601318",costPrice:77.987,position:200},{name:"\u683c\u529b\u7535\u5668",code:"000651",costPrice:60.625,position:200},{name:"\u4e1c\u5c71\u7cbe\u5bc6",code:"002384",costPrice:28.213,position:400},{name:"\u534e\u5929\u79d1\u6280",code:"002185",costPrice:12.87,position:100},{name:"\u534e\u65b0\u6c34\u6ce5",code:"600801",costPrice:23.813,position:400},{name:"\u6d77\u87ba\u6c34\u6ce5",code:"600585",costPrice:51.851,position:100}],b=(a(18),window.$),w={asce:1,desc:-1},N=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).setSotcks=function(e){var t=Object.values(e).reduce((function(e,t){return e[t.symbol]=t,e}),{}),c=E.map((function(e){if(t[e.code]){var a=Object(l.a)({},e,{},t[e.code]),c=a.costPrice,n=a.price,o=a.position;return c>n?a.bcFn="1-(".concat((o*n).toFixed(2),"+").concat(n,"x)/(").concat(c,"*").concat(o,"+").concat(n,"x)"):a.jcFn="(".concat((o*n).toFixed(2),"+").concat(n,"x)/(").concat(c,"*").concat(o,"+").concat(n,"x)-1"),a.earnRate=n/c-1,a}return e}));a.stocks=Object(i.a)(c),a.setState({stocks:c})},a.handleSortChange=function(e){a.setState({sort:e.target.value})},a.state={stocks:[],sort:"default"},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.fetchStocks(),setInterval((function(){e.fetchStocks()}),5e3)}},{key:"componentWillUnmount",value:function(){clearInterval(null)}},{key:"fetchStocks",value:function(){var e=E.map((function(e){return String(e.code)})),t=this;b&&b.ajax({type:"GET",dataType:"jsonp",url:"".concat("https://api.money.126.net/data/feed/").concat(h(e).join(",")),success:function(e,a,c){t.setSotcks(e)},error:function(e){console.error("\u8bf7\u6c42\u63a5\u53e3\u9519\u8bef")}})}},{key:"render",value:function(){var e=this.state,t=e.stocks,a=e.sort.split(":"),c=Object(r.a)(a,2),o=c[0],s=c[1],l=Object(i.a)(t);if("default"===o)l=this.stocks||[];else{var m=w[s]||1;l=t.sort((function(e,t){return(e[o]-t[o])*m}))}return n.a.createElement("div",{className:"stock-list-wrap"},n.a.createElement("h2",null,"STOCK HELPER"),n.a.createElement("div",null,"sort by",n.a.createElement("select",{onChange:this.handleSortChange},n.a.createElement("option",{value:"default"},"default"),n.a.createElement("option",{value:"earnRate:asce"},"\u76c8\u4e8f\u2b06"),n.a.createElement("option",{value:"earnRate:desc"},"\u76c8\u4e8f\u2b07"))),n.a.createElement("div",null,l.map((function(e){return n.a.createElement(k,{key:e.code,data:e})}))))}}]),t}(c.Component);a(19);var j=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(N,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(n.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[11,1,2]]]);
//# sourceMappingURL=main.331423c9.chunk.js.map