(this["webpackJsonpstock-helper"]=this["webpackJsonpstock-helper"]||[]).push([[0],{104:function(e,t,a){e.exports=a(119)},109:function(e,t,a){},114:function(e,t,a){},115:function(e,t,a){},116:function(e,t,a){},117:function(e,t,a){},118:function(e,t){Object.values=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))}},119:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(10),c=a.n(o),s=(a(109),a(9)),i=a(8),l=a(150),u=a(172),m=a(154),p=a(171),d=a(160),_=a(158),b=a(159),h=a(157),f=a(153),v=Object(l.a)((function(e){return{button:{color:"#555",fontSize:12}}})),E=r.a.forwardRef((function(e,t){return r.a.createElement(f.a,Object.assign({direction:"up",ref:t},e))}));function g(e){var t=v(),a=r.a.useState(!1),n=Object(i.a)(a,2),o=n[0],c=n[1],s=function(){c(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{size:"small",onClick:function(){c(!0)},className:t.button},"reset"),r.a.createElement(p.a,{open:o,TransitionComponent:E,keepMounted:!0,onClose:s,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},r.a.createElement(h.a,{id:"alert-dialog-slide-title"},"\u786e\u5b9a\u8981\u91cd\u7f6e\u6301\u4ed3\u5417?"),r.a.createElement(_.a,null,r.a.createElement(b.a,{id:"alert-dialog-slide-description"},"\u91cd\u7f6e\u540e\u6301\u4ed3\u5c06\u6062\u590d\u9ed8\u8ba4\u7684\u793a\u4f8b\u6570\u636e\uff0c\u8be5\u64cd\u4f5c\u4e0d\u53ef\u64a4\u9500\u3002")),r.a.createElement(d.a,null,r.a.createElement(m.a,{onClick:s,color:"primary"},"\u53d6\u6d88"),r.a.createElement(m.a,{onClick:function(){c(!1),e.onConfirm&&e.onConfirm()},color:"primary"},"\u786e\u5b9a"))))}var k=a(120),y=a(169),O=a(82),j=a.n(O),w=Object(l.a)((function(e){return{button:{color:"#888",textTransform:"uppercase",fontSize:15},icon:{fontSize:20},tips:{fontSize:14}}})),C=r.a.forwardRef((function(e,t){return r.a.createElement(f.a,Object.assign({direction:"up",ref:t},e))}));function N(e){var t=w(),a=Object(n.useState)(!1),o=Object(i.a)(a,2),c=o[0],s=o[1],l=Object(n.useState)(""),u=Object(i.a)(l,2),f=u[0],v=u[1],E=Object(n.useState)(""),g=Object(i.a)(E,2),O=g[0],N=g[1],S=function(){s(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{"aria-label":"import",size:"small",onClick:function(){s(!0)},className:t.button},r.a.createElement(j.a,{size:"small",className:t.icon})),r.a.createElement(p.a,{open:c,TransitionComponent:C,keepMounted:!0,onClose:S,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},r.a.createElement("form",{onSubmit:function(t,a){t.preventDefault();var n=!1;try{n=JSON.parse(f),N(!1)}catch(r){return void N("JSON\u89e3\u6790\u9519\u8bef, \u8bf7\u6838\u9a8c\u683c\u5f0f\u662f\u5426\u6b63\u786e")}Array.isArray(n)?n&&(s(!1),v(""),e.onConfirm&&e.onConfirm(n)):N("JSON\u5fc5\u987b\u662f\u4e00\u4e2a\u6301\u4ed3\u6570\u7ec4")}},r.a.createElement(h.a,{id:"alert-dialog-slide-title"},"\u5bfc\u5165\u6570\u636e"),r.a.createElement(_.a,null,r.a.createElement(b.a,{id:"alert-dialog-slide-description",className:t.tips},"\u4f60\u53ef\u4ee5\u901a\u8fc7\u5bfc\u5165JSON\u6765\u5feb\u901f\u521d\u59cb\u5316\u4f60\u7684\u6301\u4ed3\u6570\u636e\u3002\u8be5\u64cd\u4f5c\u4f1a\u8986\u76d6\u73b0\u6709\u6570\u636e\uff0c\u8bf7\u8c28\u614e\u64cd\u4f5c\u3002"),r.a.createElement(y.a,{required:!0,autoFocus:!0,multiline:!0,rowsMax:"6",rows:"2",variant:"outlined",margin:"dense",name:"position",id:"position",label:"JSON\u5b57\u7b26\u4e32",type:"text",error:Boolean(O),helperText:O,value:f,onChange:function(e){var t=String(e.target.value).trim();v(t),""===t&&N(!1)},InputProps:{inputProps:{pattern:/^\D/}},fullWidth:!0})),r.a.createElement(d.a,null,r.a.createElement(m.a,{onClick:S,color:"primary"},"\u53d6\u6d88"),r.a.createElement(m.a,{onClick:function(){},color:"primary",type:"submit"},"\u786e\u5b9a")))))}var S=a(170),x=a(166),P=a(165),R=a(63),M=a.n(R),D=a(67),A=a(47),I=a(21),T=a(22),V=a(24),q=a(23),B=a(25),U=Object(l.a)((function(e){return{root:{position:"relative"},face:{position:"absolute",width:"100%",backfaceVisibility:"hidden",transformStyle:"preserve-3d",transition:"transform 2s, visibility 2s"},back:{position:"absolute",width:"100%",height:"100%",backfaceVisibility:"hidden",transformStyle:"preserve-3d",transition:"transform 2s, visibility 2s"}}}));var W=r.a.memo((function(e){var t=e.on,a=void 0!==t&&t,o=e.reversal,c=e.children,s=e.className,l=void 0===s?"":s,u=U(),m=Object(n.useRef)(null),p=Object(n.useState)({}),d=Object(i.a)(p,2),_=d[0],b=d[1];return Object(n.useEffect)((function(){if(m){var e=m.current.getBoundingClientRect();b(e)}}),[]),r.a.createElement("div",{className:"".concat(l," ").concat(u.root),style:{width:_.width,height:_.height}},r.a.createElement("div",{className:"reversal-card-face ".concat(u.face),style:{transform:a?"rotateY(180deg)":"rotateY(0deg)"},ref:m},c),r.a.createElement("div",{className:"reversal-card-back ".concat(u.back),style:{transform:a?"rotateY(0deg)":"rotateY(-180deg)",visibility:a?"visible":"hidden"}},o))}),(function(e,t){return e.on===t.on&&e.update===t.update})),F=a(83),L=a.n(F),z=function(e){function t(){var e,a;Object(I.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(V.a)(this,(e=Object(q.a)(t)).call.apply(e,[this].concat(r)))).id="c".concat(Math.random().toString(36).substring(7)),a.chart=null,a.init=function(){var e=a.props,t=e.width,n=e.height,r=e.creator,o=e.data,c=new L.a.Chart({id:a.id,width:t,height:n,pixelRatio:window.devicePixelRatio,appendPadding:[30,20,0,0]});r(c,o),a.chart=c},a}return Object(B.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){this.init()}},{key:"componentWillUnmount",value:function(){this.chart.destroy(),this.chart=null}},{key:"componentWillReceiveProps",value:function(e){e.data!==this.props.data&&this.chart.changeData(e.data.source)}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return r.a.createElement("canvas",{id:this.id})}}]),t}(n.Component),K=function(e){function t(e){var a;return Object(I.a)(this,t),(a=Object(V.a)(this,Object(q.a)(t).call(this,e))).boxRef=null,a.creator=function(e,t){var a=t.source,n=Number(document.documentElement.getAttribute("data-dpr"))||1;e.source(a),e.scale("x",{type:"cat",tickCount:10}),e.scale("y",{tickCount:0}),e.tooltip({custom:!0,showXTip:!0,showYTip:!0,snap:!0,crosshairsType:"xy",crosshairsStyle:{lineDash:[2]}}),e.line().position("x*y").color("type").size(2*n).shape("type",(function(e){return"\u6a21\u62df\u6536\u76ca"===e?"line":"\u5e02\u573a\u6536\u76ca"===e?"dash":void 0})),e.point().position("x*y").color("type").size(2*n).shape("smooth"),e.area().position("x*y").color("type").shape("smooth"),e.render()},a.state={boxRect:{width:0,height:0}},a}return Object(B.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){if(this.boxRef){var e=this.boxRef.getBoundingClientRect();this.setState({boxRect:{width:e.width,height:e.height}})}}},{key:"componentDidUpdate",value:function(){if(this.boxRef){var e=this.state.boxRect,t=e.height,a=e.width,n=this.boxRef.getBoundingClientRect();t===n.height&&a===n.width||this.setState({boxRect:{width:n.width,height:n.height}})}}},{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.width,o=t.height,c=this.state.boxRect,s=a.source,i=void 0===s?[]:s,l={width:n,height:o};return r.a.createElement("div",{className:"jsChartWrap",ref:function(t){return e.boxRef=t},style:l},c.width&&c.height&&i.length?r.a.createElement(z,{data:{source:i},width:c.width,height:c.height,creator:this.creator}):null)}}]),t}(n.PureComponent);function X(e,t){for(var a=e.costPrice,n=e.position,r=e.earnRate,o=t.p,c=t.cycle,i=t.up,l=t.down,u=[{costPrice:a,position:n,earnRate:r}],m=[],p=[],d={percents:[]},_={percents:[]},b={percents:[]},h=1;h<=c;h++){var f=0;1===J(o)?(f=.1*Math.random(),d.percents.push(f)):(f=-.1*Math.random(),_.percents.push(f));var v=u[u.length-1];if(f>=i.threshold)if(v.position>0){var E=Y(v,{percent:f,position:i.position},(function(e){m.push(e)}));u.push(Object(s.a)({},E,{percent:f}))}else b.percents.push(f);else if(f<=l.threshold){var g=$(v,{percent:f,position:l.position},(function(e){p.push(e)}));u.push(Object(s.a)({},g,{percent:f}))}}return{cycle:c,onlineRecords:u,soldRecords:m,buyRecords:p,upRecords:d,downRecords:_,noneRecords:b}}function J(e){return Math.random()<=Number(e)?1:0}function $(e,t,a){return function(e,t,a){var n=e.costPrice,r=e.position,o=e.earnRate,c=Number(t.position),s=Number(t.percent),i=(s+1)*((o+1)*n),l=r+c,u=(n*r+i*c)/l,m=i/u-1;return a({percent:s,price:i,costPrice:i,position:c,amount:i*c}),{percent:s,price:i,costPrice:u,position:l,earnRate:m}}(e,t,a)}function Y(e,t,a){return function(e,t,a){var n=e.costPrice,r=e.position,o=e.earnRate,c=Number(t.position),s=Number(t.percent),i=(s+1)*((o+1)*n),l=r+c,u=i/n-1,m={percent:s,costPrice:n,price:i,position:Math.abs(c),earnRate:u,earnMoney:n*Math.abs(c)*u};return a(m),{percent:s,price:i,costPrice:n,position:l,earnRate:u}}(e,t,a)}X({costPrice:10,position:1e3,earnRate:0},{p:.3,cycle:30,up:{threshold:.02,position:-500},down:{threshold:-.02,position:1e5}});var H=Object(l.a)((function(e){return{root:{width:"100%",height:"100%"}}}));var G=r.a.memo((function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),o=a[0],c=a[1],s=H(),l=e.stock,u=e.options;return Object(n.useEffect)((function(){var e={costPrice:l.costPrice,position:l.position,earnRate:0},t=X(e,u).onlineRecords,a=[];(void 0===t?[]:t).forEach((function(t,n){a.push({x:n,y:t.earnRate,type:"\u6a21\u62df\u6536\u76ca"}),a.push({x:n,y:(t.price||e.costPrice)/e.costPrice-1,type:"\u5e02\u573a\u6536\u76ca"})})),c(a)}),[e.options,e.update]),r.a.createElement("div",{className:"simulate-card ".concat(s.root)},r.a.createElement(K,{data:{source:o},width:"100%",height:"100%"}))})),Q=a(18),Z=a(85),ee=a.n(Z),te=a(86),ae=a.n(te),ne=a(27),re=a(164),oe=a(84),ce=a.n(oe),se=Object(l.a)((function(e){return{button:{color:"#888",textTransform:"uppercase",fontSize:15},row:{display:"flex",alignItems:"center",flexWrap:"wrap"},center:{textAlign:"center","& input":{textAlign:"center"}},mediumWidth:{width:80},tips:{fontSize:14}}})),ie=r.a.forwardRef((function(e,t){return r.a.createElement(f.a,Object.assign({direction:"up",ref:t},e))}));function le(e){var t=se(),a=Object(n.useState)({}),o=Object(i.a)(a,2),c=o[0],l=o[1],u=Object(n.useState)(!1),b=Object(i.a)(u,2),f=b[0],v=b[1];Object(n.useEffect)((function(){l(e.options)}),[e.options]);var E=function(e,t){l(Object(s.a)({},c,Object(ne.a)({},t,e.target.value)))},g=function(){v(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{"aria-label":"setting",onClick:function(){v(!0)},className:t.button},r.a.createElement(ce.a,{className:t.icon})),r.a.createElement(p.a,{open:f,TransitionComponent:ie,keepMounted:!0,onClose:g,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),v(!1),e.onConfirm&&e.onConfirm(c)}},r.a.createElement(h.a,{id:"alert-dialog-slide-title"},"\u6a21\u62df\u8bbe\u7f6e"),r.a.createElement(_.a,null,r.a.createElement("div",{className:t.row},"\u8bbe\u7f6e\u4e0a\u6da8\u6982\u7387\u4e3a",r.a.createElement(y.a,{required:!0,id:"p",placeholder:"0\u52301\u4e4b\u95f4",type:"number",value:c.p,onChange:function(e){return E(e,"p")},InputProps:{className:t.center}})),r.a.createElement("div",{className:t.row},"\u65e5\u6da8\u5e45\u4e0b\u8dcc",r.a.createElement(y.a,{required:!0,id:"down_threshold",type:"number",size:"small",className:t.mediumWidth,value:c.down_threshold,onChange:function(e){return E(e,"down_threshold")},InputProps:{endAdornment:r.a.createElement(re.a,{position:"start"},"%"),className:t.center}}),"\u52a0\u4ed3",r.a.createElement(y.a,{required:!0,id:"down_position",type:"number",size:"small",className:t.mediumWidth,value:c.down_position,onChange:function(e){return E(e,"down_position")},InputProps:{endAdornment:r.a.createElement(re.a,{position:"start"},"\u624b"),className:t.center}})),r.a.createElement("div",{className:t.row},"\u65e5\u6da8\u5e45\u4e0a\u6da8",r.a.createElement(y.a,{required:!0,id:"up_threshold",type:"number",value:c.up_threshold,onChange:function(e){return E(e,"up_threshold")},InputProps:{endAdornment:r.a.createElement(re.a,{position:"start"},"%"),className:t.center},className:t.mediumWidth}),"\u51cf\u4ed3",r.a.createElement(y.a,{required:!0,id:"up_position",label:"",type:"number",className:t.mediumWidth,value:c.up_position,onChange:function(e){return E(e,"up_position")},InputProps:{endAdornment:r.a.createElement(re.a,{position:"start"},"\u624b"),className:t.center}})),r.a.createElement("div",{className:t.row},"\u6a21\u62df",r.a.createElement(y.a,{required:!0,id:"cycle",type:"number",value:c.cycle,onChange:function(e){return E(e,"cycle")},InputProps:{endAdornment:r.a.createElement(re.a,{position:"start"},"\u4ea4\u6613\u65e5"),className:t.center}}))),r.a.createElement(d.a,null,r.a.createElement(m.a,{onClick:g,color:"primary"},"\u53d6\u6d88"),r.a.createElement(m.a,{onClick:function(){},color:"primary",type:"submit"},"\u786e\u5b9a")))))}a(114);function ue(e){return e>0?"red":e<0?"green":"default"}var me=function(e){function t(){var e,a;Object(I.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(V.a)(this,(e=Object(q.a)(t)).call.apply(e,[this].concat(r)))).state={reversal:!1,simulateOptions:{p:.6,cycle:30,up_threshold:2,up_position:500,down_threshold:2,down_position:500}},a.handleRevesalClick=function(){a.setState({reversal:!a.state.reversal})},a.handleConfirm=function(e){a.setState({simulateOptions:e})},a.handleUpdateSimulate=function(){a.setState({update:(new Date).valueOf()})},a}return Object(B.a)(t,e),Object(T.a)(t,[{key:"handleLinkClick",value:function(e){var t=function(e){var t=[{type:0,eq:e.bcFn,color:"#13AD13"},{type:1e3,window:["-200","1500","0",String(Math.abs(e.earnRate*1.5.toFixed(2)))]}],a=[{type:0,eq:e.jcFn,color:"#ED1717"},{type:1e3,window:["-100","500","0",String(Math.abs(e.earnRate*1.5.toFixed(2)))]}],n=e.costPrice>e.price?t:a,r=window.btoa(JSON.stringify(n)).replace(/=/g,"-");return"http://fooplot.com/#".concat(r)}(e);window.open(t,e.name)}},{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.summary,o=a.price-a.costPrice,c=ue(o),s=a.advice,i=n.earn.maxAbsRate,l=(Math.abs(a.earnRate)/Object(Q.h)(i,.05)).toFixed(2),u=Object(Q.b)(this.state.simulateOptions),p={flex:l};return r.a.createElement("div",{className:"stock-item ".concat(c)},r.a.createElement("div",{className:"title-box"},r.a.createElement("h3",null,a.name||"\u65e0\u540d\u80a1\u7968"),r.a.createElement("div",{className:"more-tools"},r.a.createElement(m.a,{endIcon:!this.state.reversal&&r.a.createElement(ee.a,null),onClick:this.handleRevesalClick},this.state.reversal?"\u8fd4\u56de":"\u6a21\u62df\u8d70\u52bf"),this.state.reversal&&r.a.createElement(k.a,{"aria-label":"setting",onClick:this.handleUpdateSimulate},r.a.createElement(ae.a,null)),this.state.reversal&&r.a.createElement(le,{options:this.state.simulateOptions,onConfirm:this.handleConfirm}))),r.a.createElement(W,{update:this.state.update,on:this.state.reversal,reversal:r.a.createElement(G,{update:this.state.update,stock:{position:a.position,costPrice:a.costPrice,earnRate:a.earnRate},options:u})},r.a.createElement("div",{className:"stock-spc-item earn-rate-item"},r.a.createElement("label",{className:"stock-item-label"},"\u76c8\u4e8f\u6bd4"),r.a.createElement("span",{className:"stock-item-value ".concat(c," weight"),style:p},(100*a.earnRate).toFixed(3),"%")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"cell stock-spc-item"},r.a.createElement("label",{className:"stock-item-label"},"\u603b\u76c8\u4e8f"),r.a.createElement("span",{className:"stock-item-value ".concat(c," earn-amount")},(a.earnRate*a.costPrice*a.position).toFixed(2))),r.a.createElement("div",{className:"cell stock-spc-item"},r.a.createElement("label",{className:"stock-item-label"},"\u5e02\u503c"),r.a.createElement("span",{className:"stock-item-value"},(a.costPrice*a.position).toFixed(2)))),r.a.createElement("div",{className:"white-blank"}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"cell stock-spc-item"},r.a.createElement("label",{className:"stock-item-label"},"\u5f53\u65e5\u6d6e",a.percent>=0?"\u76c8":"\u4e8f"),r.a.createElement("span",{className:"stock-item-value ".concat(ue(a.percent)," weight")},(a.costPrice*a.position*a.percent).toFixed(2))),r.a.createElement("div",{className:"cell stock-spc-item"},r.a.createElement("label",{className:"stock-item-label"},"\u6210\u672c"),r.a.createElement("span",{className:"stock-item-value"},a.costPrice))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"cell stock-spc-item"},r.a.createElement("label",{className:"stock-item-label"},"\u73b0\u4ef7"),r.a.createElement("span",{className:"stock-item-value"},a.price)),r.a.createElement("div",{className:"cell stock-spc-item"},r.a.createElement("label",{className:"stock-item-label"},"\u6301\u4ed3"),r.a.createElement("span",{className:"stock-item-value"},a.position))),r.a.createElement("div",{className:"stock-spc-item percent-item"},r.a.createElement("label",{className:"stock-item-label"},"\u5f53\u65e5",a.percent>=0?"\u6da8":"\u8dcc","\u5e45"),r.a.createElement("span",{className:"stock-item-value weight ".concat(ue(a.percent))},(100*a.percent).toFixed(2),"%",r.a.createElement("i",{className:"percent-bar",style:{width:"".concat(Math.abs(1e3*a.percent),"%")}}))),r.a.createElement("div",{className:"white-blank"}),r.a.createElement("div",{className:"stock-spc-item"},r.a.createElement("label",{className:"stock-item-label"},o<0?"\u8865\u4ed3\u51fd\u6570":"\u52a0\u4ed3\u51fd\u6570"),r.a.createElement("span",{className:"stock-item-value",onClick:function(){e.handleLinkClick(a)}},r.a.createElement("span",{className:"link"},"\u67e5\u770b"))),r.a.createElement("div",{className:"white-blank"}),s.x&&r.a.createElement("div",{className:"stock-spc-item advice-item"},r.a.createElement("label",{className:"stock-item-label"},"\u5efa\u8bae"),r.a.createElement("span",{className:"stock-item-value advice-value"},"\u76ee\u524d\u60a8\u7684\u4e8f\u635f\u8d85\u8fc7\u4e86",Math.floor(100*Math.abs(a.earnRate)),"%\u3002\u5efa\u8bae\u8865\u4ed3",r.a.createElement("b",{className:"mark"},s.x/100>>0),"\u624b\uff0c \u9700\u8981\u8d44\u91d1",r.a.createElement("b",{className:"mark"},"\xa5",Math.ceil(a.price*s.x)),", \u53ef\u5c06\u4e8f\u635f\u964d\u81f3",r.a.createElement("b",{className:"mark"},(100*s.approValue).toFixed(3),"%"),"\u3002"))))}}]),t}(n.Component),pe=a(87),de=a.n(pe),_e=(a(80),{name:{required:!1},symbol:{required:!0},costPrice:{required:!0,min:1},position:{required:!0,min:100}}),be=function(e){function t(){var e,a;Object(I.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(V.a)(this,(e=Object(q.a)(t)).call.apply(e,[this].concat(r)))).state={stock:{}},a.handleInputChange=function(e,t){var n=a.state.stock;a.setState({stock:Object(s.a)({},n,Object(ne.a)({},e,String(t.target.value).replace(/\s/g,"")))},(function(){var e=a.props.onComplete;a.validateShema()&&e(Object(s.a)({},a.state.stock))}))},a.validateShema=function(){var e=a.state.stock;return Object.keys(_e).every((function(t){var a=_e[t];return e[t]?!a.required||e[t]:!a.required}))},a.onDelete=function(e){var t=a.props,n=t.onDelete,r=t.data;n&&n(r,e)},a}return Object(B.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.edit,n=void 0!==a&&a,o=t.data,c=void 0===o?{}:o;return r.a.createElement("div",{className:"postion-item-box"},n?r.a.createElement("div",{className:"position-edit-item"},r.a.createElement("div",{className:"col stock-name"},r.a.createElement("input",{type:"text",defaultValue:c.name||"",placeholder:"[\u53ef\u586b]\u540d\u79f0",onChange:function(t){return e.handleInputChange("name",t)}})),r.a.createElement("div",{className:"col stock-code"},r.a.createElement("input",{type:"text",defaultValue:c.symbol||"",placeholder:"* \u4ee3\u7801",onChange:function(t){return e.handleInputChange("symbol",t)}})),r.a.createElement("div",{className:"col stock-cost-price"},r.a.createElement("input",{type:"number",defaultValue:c.costPrice||"",placeholder:"* \u6210\u672c",onChange:function(t){return e.handleInputChange("costPrice",t)}})),r.a.createElement("div",{className:"col stock-postion"},r.a.createElement("input",{type:"number",defaultValue:c.position||"",placeholder:"* \u6301\u4ed3(\u80a1)",onChange:function(t){return e.handleInputChange("position",t)}}))):r.a.createElement("div",{className:"position-show-item"},r.a.createElement("div",{className:"col stock-name"},c.name||""),r.a.createElement("div",{className:"col stock-code"},c.symbol),r.a.createElement("div",{className:"col stock-cost-price"},c.costPrice),r.a.createElement("div",{className:"col stock-postion"},r.a.createElement("span",null,c.position),r.a.createElement(k.a,{className:"delete-btn","aria-label":"delete",size:"small",onClick:this.onDelete},r.a.createElement(de.a,{size:"small"})))))}}]),t}(n.Component),he=a(88),fe=a.n(he),ve={name:{required:!1},symbol:{required:!0},costPrice:{required:!0,min:1},position:{required:!0,min:100}},Ee=function(e){function t(){var e,a;Object(I.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(V.a)(this,(e=Object(q.a)(t)).call.apply(e,[this].concat(r)))).state={stock:{}},a.handleInputChange=function(e,t){var n=a.state.stock;a.setState({stock:Object(s.a)({},n,Object(ne.a)({},e,String(t.target.value).replace(/\s/g,"")))},(function(){var e=a.props.onComplete;a.validateShema()&&e(Object(s.a)({},a.state.stock))}))},a.validateShema=function(){var e=a.state.stock;return Object.keys(ve).every((function(t){var a=ve[t];return e[t]?!a.required||e[t]:!a.required}))},a.handleAdd=function(){var e=a.props,t=e.onAdd,n=e.stocks,r=void 0===n?[]:n,o=a.state.stock,c=a.validateShema();r.some((function(e){return String(e.symbol)===o.symbol}))?alert("\u8be5\u80a1\u7968\u5df2\u5b58\u5728\u4e86\uff0c\u8bf7\u4e0d\u8981\u91cd\u590d\u6dfb\u52a0"):c?(t&&t(Object(s.a)({},o)),a.setState({stock:{}})):alert("\u8bf7\u628a\u4e0a\u65b9\u7684\u6570\u636e\u586b\u5199\u5b8c\u6574\uff0c\u518d\u6dfb\u52a0\u65b0\u7684\u4e00\u6761\uff5e")},a}return Object(B.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this,t=this.state.stock;return r.a.createElement("div",{className:"postion-item-box"},r.a.createElement("div",{className:"position-edit-item add-position-item"},r.a.createElement("div",{className:"col stock-code"},r.a.createElement(y.a,{required:!0,type:"text",label:"\u80a1\u7968\u4ee3\u7801",defaultValue:t.symbol||"",onChange:function(t){return e.handleInputChange("symbol",t)}})),r.a.createElement("div",{className:"col stock-cost-price"},r.a.createElement(y.a,{required:!0,type:"number",label:"\u6210\u672c",defaultValue:t.costPrice||"",onChange:function(t){return e.handleInputChange("costPrice",t)}})),r.a.createElement("div",{className:"col stock-postion"},r.a.createElement(y.a,{required:!0,type:"number",label:"\u6301\u4ed3(\u80a1)",defaultValue:t.position||"",onChange:function(t){return e.handleInputChange("position",t)}}))),r.a.createElement("div",{className:"add-line"},r.a.createElement("div",{className:"add-line-btn",onClick:this.handleAdd},r.a.createElement(m.a,{fullWidth:!0,variant:"text",color:"default",startIcon:r.a.createElement(fe.a,null)},"\u6dfb\u52a0"))))}}]),t}(n.Component),ge=(a(115),function(e){function t(){var e,a;Object(I.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(V.a)(this,(e=Object(q.a)(t)).call.apply(e,[this].concat(r)))).handleComplete=function(e,t){var n=a.props,r=n.stocks,o=void 0===r?[]:r,c=n.onItemComplete,s=o.reduce((function(e,t,a){return t.index=a,e[t.symbol]=t,e}),{});Object.values(s).filter((function(t){return String(t.symbol)===String(e.symbol)})).length>1?alert("\u8be5\u80a1\u7968\u5df2\u5b58\u5728\u4e86\uff0c\u4f60\u53ef\u4ee5\u70b9\u51fb\u4fee\u6539~"):(e.index=t,s[e.symbol]=e,a.stocks=Object.values(s).sort((function(e,t){return e.index-t.index})),c&&c(e,a.stocks))},a.handleAddRowClick=function(e){var t=a.props.onAdd;t&&t(a.stocks)},a.onDelete=function(e){var t=a.props.onDelete;t&&t(e)},a}return Object(B.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.stocks,a=void 0===t?[]:t,n=e.core;this.stocks=a,n&&n(this)}},{key:"render",value:function(){var e=this,t=this.props.stocks;return r.a.createElement("div",{className:"stocks-list-wrap"},r.a.createElement("div",{className:"postion-list-header"},r.a.createElement("div",{className:"th"},"\u540d\u79f0"),r.a.createElement("div",{className:"th"},"\u4ee3\u7801"),r.a.createElement("div",{className:"th"},"\u6210\u672c"),r.a.createElement("div",{className:"th"},"\u6301\u4ed3")),t.map((function(t,a){return r.a.createElement(be,{key:t.symbol,data:t,onComplete:function(t){return e.handleComplete(t,a)},onDelete:e.onDelete})})),r.a.createElement(Ee,{key:t.length,stocks:t,onComplete:function(a){return e.handleComplete(a,t.length)},onAdd:this.handleAddRowClick}))}}]),t}(n.Component)),ke=a(90),ye=a.n(ke),Oe=a(89),je=a.n(Oe),we=a(173),Ce=a(167),Ne={showPostion:!1,isEdit:!1};function Se(e,t){switch(t.type){case"ADD":case"EDIT":return Object(s.a)({},e,{showPostion:!0,isEdit:!0});case"SAVE":case"RESET":return Object(s.a)({},e,{showPostion:!1,isEdit:!1});case"INIT":return a=t.payload,Object(s.a)({},Ne,{},a);case"SET":return Object(s.a)({},e,{},t.payload);case"SET_SUMMARY":return Object(s.a)({},e,{summary:Object(s.a)({},t.payload)});default:return e}var a}var xe=r.a.createContext(Ne),Pe=(a(116),Object(l.a)((function(e){return{saveButton:{color:"#fff",fontSize:16},editButton:{color:"#555",fontSize:15},sortTool:{fontSize:14}}}))),Re={asce:1,desc:-1};function Me(e){var t=Pe(),a=e.dispatch,o=Object(n.useState)([]),c=Object(i.a)(o,2),s=c[0],l=c[1],u=Object(n.useState)([]),p=Object(i.a)(u,2),d=p[0],_=p[1],b=Object(n.useState)("default"),h=Object(i.a)(b,2),f=h[0],v=h[1],E=f.split(":"),g=Object(i.a)(E,2),k=g[0],y=g[1],O=Object(A.a)(s),j=Object(n.useContext)(xe);Object(n.useEffect)((function(){l(e.list),_(e.list)}),[e.list]);if("default"===k)O=s||[];else{var w=Re[y]||1;O=s.sort((function(e,t){return(e[k]-t[k])*w}))}var C=j.showPostion,N=j.summary;return r.a.createElement("div",{className:"stock-list-wrap"},r.a.createElement("div",{className:"tools-box"},r.a.createElement("div",{className:"sort-tool"},r.a.createElement(Ce.a,{onChange:function(e){v(e.target.value)},defaultValue:"default",className:t.sortTool},r.a.createElement(we.a,{value:"default"},"\u9ed8\u8ba4\u6392\u5e8f"),r.a.createElement(we.a,{value:"earnRate:asce"},"\u76c8\u4e8f\u4ece\u4f4e\u5230\u9ad8\u2b06"),r.a.createElement(we.a,{value:"earnRate:desc"},"\u76c8\u4e8f\u4ece\u9ad8\u5230\u4f4e\u2b07"),r.a.createElement(we.a,{value:"percent:asce"},"\u6da8\u5e45\u4ece\u4f4e\u5230\u9ad8\u2b06"),r.a.createElement(we.a,{value:"percent:desc"},"\u6da8\u5e45\u4ece\u9ad8\u5230\u4f4e\u2b07"))),r.a.createElement("div",{className:"position-tool",onClick:function(){return function(t){if("edit"===t&&a({type:"SET",payload:{showPostion:!j.showPostion,isEdit:!0}}),"save"===t){var n=Object(Q.c)(Me.core.stocks);localStorage.setItem("stocks",JSON.stringify(n)),e.onSave&&e.onSave(),a({type:"SAVE"})}}(C?"save":"edit")}},C?r.a.createElement(m.a,{className:t.saveButton,variant:"contained",endIcon:r.a.createElement(je.a,null),color:"primary",size:"small"},"\u4fdd\u5b58"):r.a.createElement(m.a,{className:t.editButton,variant:"text",size:"large",endIcon:r.a.createElement(ye.a,null)},"".concat(s.length<=0?"\u6dfb\u52a0":"\u4fee\u6539","\u6301\u4ed3")))),C&&r.a.createElement(ge,{core:function(e){return Me.core=e},stocks:d||s||[],onItemComplete:function(e,t){console.log("\u7f16\u8f91",e,t)},onAdd:function(e){_(e)},onDelete:function(e){var t=Me.core.stocks.filter((function(t){return String(t.symbol)!==String(e.symbol)}));_(Object(A.a)(t)),Me.core.stocks=t}}),r.a.createElement("div",{className:"stock-list flow"},O.map((function(e){return r.a.createElement(me,{key:e.symbol,data:e,summary:N})}))))}var De=Object(l.a)((function(e){return{heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},panel:{padding:"8px 18px 24px"}}}));function Ae(e){var t,a=De(),n=r.a.useState("panel2"),o=Object(i.a)(n,2),c=o[0],s=o[1],l=e.map,u=e.list,m=e.onSave,p=e.dispatch;return r.a.createElement(S.a,{expanded:"panel2"===c,onChange:(t="panel2",function(e,a){s(!!a&&t)})},r.a.createElement(P.a,{expandIcon:r.a.createElement(M.a,null),"aria-controls":"panel2bh-content",id:"panel2bh-header"},r.a.createElement(D.a,{className:a.heading},"\u6301\u4ed3")),r.a.createElement(x.a,{className:a.panel},r.a.createElement(Me,{map:l,list:u,onSave:m,dispatch:p})))}var Ie=Object(l.a)((function(e){return{panel:{display:"block"},detial:{display:"block"},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},defaultColor:{color:"#888"}}}));function Te(e){var t,a,n=Ie(),o=r.a.useState("panel1"),c=Object(i.a)(o,2),s=c[0],l=c[1],u=e.summary,m=void 0===u?{}:u,p=e.list,d=void 0===p?[]:p;return r.a.createElement(S.a,{className:n.haha,expanded:"panel1"===s,onChange:(a="panel1",function(e,t){l(!!t&&a)})},r.a.createElement(P.a,{expandIcon:r.a.createElement(M.a,null),"aria-controls":"panel2bh-content",id:"panel2bh-header"},r.a.createElement(D.a,{className:n.heading},"\u603b\u89c8")),r.a.createElement(x.a,{className:n.detial},d.length<=0?r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a,{display:"inline",color:"error"},"\u8bf7\u5148\u6dfb\u52a0\u6301\u4ed3\uff0c\u624d\u80fd\u67e5\u770b\u603b\u89c8\u3002"),r.a.createElement(D.a,{display:"inline",className:n.defaultColor,variant:"body1"},"\u6216\u8005\u70b9\u51fb\u4e0a\u65b9\u7684RESET\u6309\u94ae,\u53c2\u770b\u793a\u4f8b\u6570\u636e\u3002")):r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a,{display:"block",paragraph:!0},r.a.createElement("span",null,"\u4f60\u6301\u4ed3\u7684\u603b\u5e02\u503c\u4e3a",m.marketValue,"\u3002"),r.a.createElement("span",null,"\u603b\u6210\u672c\u4e3a",m.costValue,"\u3002"),r.a.createElement("span",null,"\u76ee\u524d",m.earnMoney>=0?"\u76c8\u5229":"\u4e8f\u635f"," ",Math.abs(m.earnMoney),"\u5143\u3002"),r.a.createElement("span",null,"\u76c8\u4e8f\u7387\uff1a",(100*m.earnRate).toFixed(2),"%\u3002")),Object.keys(m.advice||{}).length>0&&r.a.createElement(D.a,{display:"block",color:"error"},"\u5efa\u8bae\u8d26\u6237\u4fdd\u7559\u6d41\u52a8\u8d44\u91d1",null===(t=m.advice)||void 0===t?void 0:t.hotMoney,"\u5143\uff0c\u4ee5\u5e94\u5bf9\u98ce\u9669\u3002"))))}var Ve=a(37),qe=window.$,Be=Object(l.a)((function(e){return{root:{width:"100%"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:20,marginBottom:20,"& .title-box":{marginTop:0,marginBottom:0},"& .import-tool":{cursor:"pointer",color:"#888",fontSize:14}},snackbar:{"& .MuiSnackbarContent-root":{padding:"2px 16px"},"&.error .MuiSnackbarContent-root":{backgroundColor:"rgb(253, 236, 234)",color:"rgb(97, 26, 21)"},"&.warning .MuiSnackbarContent-root":{backgroundColor:"rgb(255, 244, 229)",color:"rgb(102, 60, 0)"},"&.success .MuiSnackbarContent-root":{backgroundColor:"rgb(237, 247, 237)",color:"rgb(30, 70, 32)"}}}})),Ue=null;function We(){var e=Be(),t=Object(n.useState)({}),a=Object(i.a)(t,2),o=a[0],c=a[1],l=Object(n.useState)([]),m=Object(i.a)(l,2),p=m[0],d=m[1],_=Object(n.useState)({open:!1,message:""}),b=Object(i.a)(_,2),h=b[0],f=b[1],v=Object(n.useState)({}),E=Object(i.a)(v,2),k=E[0],y=E[1],O=Object(n.useReducer)(Se,Ne),j=Object(i.a)(O,2),w=j[0],C=j[1],S=Object(n.useRef)(w);function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.success,a=e.fail,n=localStorage.getItem("stocks"),r=n?JSON.parse(n):[],o=r.map((function(e){return String(e.symbol)})),s=S.current.isEdit;if(r.length<=0)return c({}),d([]),void y({});qe&&!s&&qe.ajax({type:"GET",dataType:"jsonp",url:"".concat(Ve.b).concat(Object(Q.d)(o).join(",")),success:function(e,a,n){var r=Object(Q.f)(e),o=Object(Q.a)(r);C({type:"SET_SUMMARY",payload:o}),c(e),d(r),y(o),t&&t()},error:function(e){console.error("\u8bf7\u6c42\u63a5\u53e3\u9519\u8bef"),a&&a()}})}return Object(n.useEffect)((function(){return Object(Q.e)(),x(),Ue=setInterval((function(){x()}),Ve.e),function(){clearInterval(Ue)}}),[]),S.current=w,r.a.createElement(xe.Provider,{value:w},r.a.createElement("div",{className:e.root},r.a.createElement("div",{className:e.header},r.a.createElement("h2",{className:"title-box"},"STOCK HELPER",r.a.createElement(g,{onConfirm:function(){C({type:"SAVE"}),S.current=Object(s.a)({},w,{showPostion:!1,isEdit:!1}),Object(Q.g)(),x({success:function(){f({status:"success",open:!0,message:"\u91cd\u7f6e\u6210\u529f"})},fail:function(){f({status:"error",open:!0,message:"\u91cd\u7f6e\u5931\u8d25"})}})}})),r.a.createElement("div",{className:"import-tool"},r.a.createElement(N,{onConfirm:function(e){e&&(C({type:"SAVE"}),S.current=Object(s.a)({},w,{showPostion:!1,isEdit:!1}),Object(Q.g)(e),x({success:function(){f({status:"success",open:!0,message:"\u5bfc\u5165\u6210\u529f"})},fail:function(){f({status:"error",open:!0,message:"\u5bfc\u5165\u5931\u8d25"})}}))}}))),r.a.createElement(Te,{map:o,list:p,summary:k}),r.a.createElement(Ae,{map:o,list:p,onSave:function(){S.current=Object(s.a)({},w,{showPostion:!1,isEdit:!1}),x({success:function(){f({status:"success",open:!0,message:"\u4fdd\u5b58\u6210\u529f"})},fail:function(){f({status:"error",open:!0,message:"\u4fdd\u5b58\u5931\u8d25"})}})},dispatch:C})),r.a.createElement(u.a,{className:"".concat(e.snackbar," ").concat(h.status),anchorOrigin:{vertical:"top",horizontal:"center"},open:h.open,onClose:function(){f({status:"default",open:!1,message:""})},autoHideDuration:3e3,message:h.message}))}a(117);window.addEventListener("error",(function(e){console.error("addEventListener error",e)}));var Fe=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(We,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(118);c.a.render(r.a.createElement(Fe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},18:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"d",(function(){return getStockCodes})),__webpack_require__.d(__webpack_exports__,"c",(function(){return formatToLocalStocks})),__webpack_require__.d(__webpack_exports__,"e",(function(){return initData})),__webpack_require__.d(__webpack_exports__,"g",(function(){return resetData})),__webpack_require__.d(__webpack_exports__,"f",(function(){return mergeStocks})),__webpack_require__.d(__webpack_exports__,"a",(function(){return calcStockSummary})),__webpack_require__.d(__webpack_exports__,"h",(function(){return toMultiple})),__webpack_require__.d(__webpack_exports__,"b",(function(){return formatSimulateValues}));var _Users_ling_3l_workspace_stock_helper_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(27),_Users_ling_3l_workspace_stock_helper_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9),_Users_ling_3l_workspace_stock_helper_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(47),big_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(32),big_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(big_js__WEBPACK_IMPORTED_MODULE_3__),_constants__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(37);function getStockCodes(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return isNaN(e[0])?e.toLowerCase().indexOf("us_")>-1?e.toUpperCase():e.indexOf("hk")>-1?e:e.toLowerCase().replace("sz","1").replace("sh","0"):("6"===e[0]?"0":"1")+e}))}function genFnForBC(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return e.bcFn="((".concat(e.position,"+x)").concat(e.price,")/(").concat(e.costPrice,"*").concat(e.position," + ").concat(e.price,"x)"),e}))}function soryBy(e,t){}function calcApproximateValue(){for(var formula=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",targetValue=arguments.length>1?arguments[1]:void 0,options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},_options$step=options.step,step=void 0===_options$step?1:_options$step,_options$startX=options.startX,startX=void 0===_options$startX?0:_options$startX,endX=options.endX,_options$cycleCount=options.cycleCount,cycleCount=void 0===_options$cycleCount?300:_options$cycleCount,realCycleCount=endX?endX-startX+1:cycleCount,count=0,i=0,resultMap={};count<realCycleCount;){var vX=step+i,formulaStr=putIntoFormula(formula,"x",vX),result=eval(formulaStr),delta=Math.abs(result-targetValue);resultMap[delta]={x:vX,y:result,times:count},i+=step,count++}var minDelta=Math.min.apply(Math,Object(_Users_ling_3l_workspace_stock_helper_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__.a)(Object.keys(resultMap))),approObj=resultMap[minDelta];return{formula:formula,x:approObj.x,y:approObj.y,targetValue:targetValue,approValue:approObj.y,step:step}}function formatToLocalStocks(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return{name:e.name,symbol:e.symbol,costPrice:e.costPrice,position:e.position}}))}function initData(){if(localStorage.getItem("pageView")){var e=localStorage.getItem("pageView");localStorage.setItem("pageView",Number(e)+1)}else localStorage.setItem("stocks",JSON.stringify(_constants__WEBPACK_IMPORTED_MODULE_4__.d)),localStorage.setItem("pageView",1)}function resetData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_constants__WEBPACK_IMPORTED_MODULE_4__.d;localStorage.setItem("stocks",JSON.stringify(e))}function mergeStocks(e){var t=localStorage.getItem("stocks"),a=t?JSON.parse(t):[],n=Object.values(e).reduce((function(e,t){return e[t.symbol]=t,e}),{}),r=a.map((function(e){if(n[e.symbol]){var t=Object(_Users_ling_3l_workspace_stock_helper_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},e,{},n[e.symbol]),a={},r=t.costPrice,o=t.price,c=t.position;return r>o?t.bcFn="1-(".concat((c*o).toFixed(2),"+").concat(o,"x)/(").concat((r*c).toFixed(2),"+").concat(o,"x)"):t.jcFn="(".concat((c*o).toFixed(2),"+").concat(o,"x)/(").concat((r*c).toFixed(2),"+").concat(o,"x)-1"),t.earnRate=o/r-1,t.earnRate<_constants__WEBPACK_IMPORTED_MODULE_4__.a&&((a=calcApproximateValue(t.bcFn,-_constants__WEBPACK_IMPORTED_MODULE_4__.c,{step:100})).amount=(a.x*t.price).toFixed(2)),t.advice=a,t}return e}));return Object(_Users_ling_3l_workspace_stock_helper_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__.a)(r)}function calcStockSummary(e){var t={marketValue:0,costValue:0,earnMoney:0,earnRate:0,advice:{hotMoney:0},earn:{minRate:0,maxRate:0,minMoney:0,maxMoney:0,maxAbsRate:0}};if((t=e.reduce((function(e,t){var a=t.advice?t.advice.amount:0;return e.marketValue=new big_js__WEBPACK_IMPORTED_MODULE_3___default.a(t.price).times(t.position).plus(e.marketValue).valueOf(),e.costValue=new big_js__WEBPACK_IMPORTED_MODULE_3___default.a(t.costPrice).times(t.position).plus(e.costValue).valueOf(),e.advice.hotMoney=new big_js__WEBPACK_IMPORTED_MODULE_3___default.a(e.advice.hotMoney).plus(Number(a||0)).valueOf(),e}),t)).earnRate=new big_js__WEBPACK_IMPORTED_MODULE_3___default.a(t.marketValue).div(t.costValue).minus(1).toFixed(4).valueOf(),t.earnMoney=new big_js__WEBPACK_IMPORTED_MODULE_3___default.a(t.marketValue).minus(t.costValue).valueOf(),e&&e.length>0){var a=e.sort((function(e,t){return e.earnRate-t.earnRate})),n=a[0],r=a[a.length-1];t.earn.minRate=n.earnRate,t.earn.maxRate=r.earnRate,t.earn.minMoney=(n.earnRate*n.costPrice*n.position).toFixed(2),t.earn.maxMoney=(r.earnRate*r.costPrice*r.position).toFixed(2),t.earn.maxAbsRate=Math.max(Math.abs(n.earnRate),Math.abs(r.earnRate))}return t}function toMultiple(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=Number(e),r=Number(t),o=a.to,c=void 0===o?"ceil":o,s=Math.floor(n/r);if(n===r||n%r===0)return n;switch(c){case"ceil":return big_js__WEBPACK_IMPORTED_MODULE_3___default()(s).plus(1).times(r).valueOf();case"floor":return big_js__WEBPACK_IMPORTED_MODULE_3___default()(s).times(r).valueOf();default:return big_js__WEBPACK_IMPORTED_MODULE_3___default()(s).plus(1).times(r).valueOf()}}function putIntoFormula(e,t,a){var n=e.match(new RegExp(t,"gi")),r=e;return n.length&&n.forEach((function(){var e=r.indexOf(t),n=r[e-1],o=r[e+1];e>-1&&(r=/\d/.test(n)?r.replaceAt(e,"*".concat(a)):/\d/.test(o)?r.replaceAt(e,"".concat(a,"*")):r.replaceAt(e,"".concat(a)))})),r}String.prototype.replaceAt=function(e,t){return this.substr(0,e)+t+this.substr(e+1)};var formatSimulateValues=function(e){var t={};return Object.keys(e).forEach((function(a){var n=a.split("_");if(n.length>1){var r=n[0],o=n[1];t[r]?t[r][o]=e[a]:t[r]=Object(_Users_ling_3l_workspace_stock_helper_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({},o,e[a])}else t[a]=e[a]})),t.down.threshold=-t.down.threshold/100,t.up.threshold=t.up.threshold/100,t.up.position=-t.up.position,t}},37:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"e",(function(){return r})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return c})),a.d(t,"d",(function(){return s}));var n="https://api.money.126.net/data/feed/",r=3e3,o=-.06,c=-.059,s=[{name:"\u4f0a\u5229\u80a1\u4efd",symbol:"600887",costPrice:30.243,position:400},{name:"\u4e2d\u56fd\u5e73\u5b89",symbol:"601318",costPrice:77.987,position:200},{name:"\u683c\u529b\u7535\u5668",symbol:"000651",costPrice:60.625,position:200},{name:"\u4e1c\u5c71\u7cbe\u5bc6",symbol:"002384",costPrice:28.213,position:400},{name:"\u534e\u5929\u79d1\u6280",symbol:"002185",costPrice:12.87,position:100},{name:"\u534e\u65b0\u6c34\u6ce5",symbol:"600801",costPrice:23.813,position:400},{name:"\u6d77\u87ba\u6c34\u6ce5",symbol:"600585",costPrice:51.851,position:100}]},80:function(e,t,a){}},[[104,1,2]]]);
//# sourceMappingURL=main.edbf4458.chunk.js.map