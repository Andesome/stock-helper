{"version":3,"sources":["utils/common.js","constants/index.js","images/edit-icon.svg","images/save-icon.svg","images/delete-icon.svg","images/add-icon.svg","components/Reset.js","components/StockItem.js","components/PositionItem.js","components/AddPostionItem.js","components/Position.js","reducers/index.js","components/StockList.js","components/StockPanel.js","components/SummaryPanel.js","Dashbord.js","App.js","serviceWorker.js","index.js"],"names":["getStockCodes","stocks","map","code","isNaN","toLowerCase","indexOf","toUpperCase","replace","genFnForBC","stock","bcFn","position","price","costPrice","soryBy","key","type","calcFnResult","formula","targetValue","ratio","i","flag","realValue","formulaStr","result","eval","x","y","formatToLocalStocks","name","symbol","initData","localStorage","getItem","pageView","setItem","Number","JSON","stringify","STOCKS","resetData","mergeStocks","serverStocks","localStockStr","parse","stockMap","Object","values","reduce","sum","localStock","stockItem","advice","toFixed","jcFn","earnRate","ADVICE_LOSS_RATE","EXPECT_LOSS_RATE","amount","calcStockSummary","stockList","summary","marketValue","costValue","earnMoney","hotMoney","item","adviceAmount","Big","times","plus","valueOf","div","minus","API_BASE_URL","UPDATE_INTERVAL","module","exports","Transition","React","forwardRef","props","ref","Slide","direction","Rest","useState","open","setOpen","handleClose","Fragment","Button","size","onClick","Dialog","TransitionComponent","keepMounted","onClose","aria-labelledby","aria-describedby","DialogTitle","id","DialogContent","DialogContentText","DialogActions","color","onConfirm","caclClass","number","StockItem","data","url","bcLinkData","eq","window","String","Math","abs","jcLinkData","linkData","base64","btoa","calcLink","this","earningsPerShare","earningCls","className","percent","handleLinkClick","floor","ceil","Component","SCHEMA","required","min","PostionItem","state","handleInputChange","e","setState","target","value","onComplete","validateShema","keys","every","schemaKey","rule","onDelete","edit","defaultValue","placeholder","onChange","src","DeleteIconSrc","alt","AddPostionItem","handleAdd","onAdd","isValid","some","v","alert","AddIconSrc","Position","handleComplete","index","onItemComplete","stocksMap","filter","length","sort","a","b","handleAddRowClick","addStockItem","core","stockInitData","showPostion","isEdit","stockReducer","action","console","log","initialData","payload","StockContext","createContext","TYPE_MAP","asce","desc","StockList","dispatch","setStocks","editStocks","setEditStocks","setSort","split","sortedStocks","stockState","useContext","useEffect","list","s1","s2","localStocks","onSave","hanldPostionClick","SaveIconSrc","style","display","EditIconSrc","filterStocks","useStyles","makeStyles","theme","heading","fontSize","typography","pxToRem","flexBasis","flexShrink","panel","padding","StockPanel","classes","expanded","setExpanded","ExpansionPanel","event","isExpanded","ExpansionPanelSummary","expandIcon","aria-controls","Typography","ExpansionPanelDetails","detial","defaultColor","SummaryPanel","haha","variant","paragraph","$","root","width","timer","DashBord","setStocksMap","setStockList","setSummary","useReducer","stockRef","useRef","fetchStocks","stockCodes","current","ajax","dataType","join","success","serverData","status","xhr","error","setInterval","clearInterval","Provider","App","Boolean","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.b5de4876.chunk.js","sourcesContent":["import Big from 'big.js';\nimport { STOCKS, EXPECT_LOSS_RATE, ADVICE_LOSS_RATE } from '../constants';\n\n// 对股票id进行处理\nexport function getStockCodes(stocks = []) {\n  return stocks.map(code => {\n    if (isNaN(code[0])) {\n      if (code.toLowerCase().indexOf('us_') > -1) {\n        return code.toUpperCase();\n      } else if (code.indexOf('hk') > -1) {\n        return code;\n      } else {\n        return code\n          .toLowerCase()\n          .replace('sz', '1')\n          .replace('sh', '0');\n      }\n    } else {\n      return (code[0] === '6' ? '0' : '1') + code;\n    }\n  });\n}\n\n// 生成补仓函数\nexport function genFnForBC(stocks = []) {\n  return stocks.map(stock => {\n    stock.bcFn = `((${stock.position}+x)${stock.price})/(${stock.costPrice}*${stock.position} + ${stock.price}x)`;\n    return stock;\n  });\n}\n\nexport function soryBy(key, type) {}\n\n/**\n * 根据反比函数公式，求一个最小近似值\n * @param {*} formula 公式，变量为x\n * @param {*} targetValue 目标值\n */\nexport function calcFnResult(formula = '', targetValue) {\n  const ratio = 100;\n  let i = 1;\n  let flag = true;\n  let realValue = targetValue;\n\n  while (flag) {\n    const formulaStr = formula.replace(/x/g, `*${ratio * i}`);\n    // eslint-disable-next-line no-eval\n    const result = eval(formulaStr);\n    if (result <= targetValue) {\n      realValue = result;\n      flag = false;\n    } else {\n      i++;\n    }\n    // 设置边界值，大于100不在循环，避免进入死循环\n    if (i > 100) {\n      flag = false;\n    }\n  }\n  return { x: ratio * i, y: realValue, targetValue, realValue };\n}\n\n//格式华\nexport function formatToLocalStocks(stocks = []) {\n  return stocks.map(stock => ({\n    name: stock.name,\n    symbol: stock.symbol,\n    costPrice: stock.costPrice,\n    position: stock.position,\n  }));\n}\n\n// 初始化数据\nexport function initData() {\n  if (!localStorage.getItem('pageView')) {\n    localStorage.setItem('stocks', JSON.stringify(STOCKS));\n    localStorage.setItem('pageView', 1);\n  } else {\n    const pageView = localStorage.getItem('pageView');\n    localStorage.setItem('pageView', Number(pageView) + 1);\n  }\n}\n\n// 重置数据\nexport function resetData() {\n  localStorage.setItem('stocks', JSON.stringify(STOCKS));\n}\n\n// 合并本地和接口数据\nexport function mergeStocks(serverStocks) {\n  const localStockStr = localStorage.getItem('stocks');\n  const STOCKS = localStockStr ? JSON.parse(localStockStr) : [];\n  const stockMap = Object.values(serverStocks).reduce((sum, stock) => {\n    sum[stock.symbol] = stock;\n    return sum;\n  }, {});\n  // 合并成本价、持仓信息\n  const stocks = STOCKS.map(localStock => {\n    if (stockMap[localStock.symbol]) {\n      const stockItem = {\n        ...localStock,\n        ...stockMap[localStock.symbol],\n      };\n      // 每股计算的建议信息\n      let advice = {};\n      const { costPrice, price, position } = stockItem;\n\n      if (costPrice > price) {\n        stockItem.bcFn = `1-(${(position * price).toFixed(2)}+${price}x)/(${(costPrice * position).toFixed(2)}+${price}x)`;\n      } else {\n        stockItem.jcFn = `(${(position * price).toFixed(2)}+${price}x)/(${(costPrice * position).toFixed(2)}+${price}x)-1`;\n      }\n      stockItem.earnRate = price / costPrice - 1;\n\n      if (stockItem.earnRate < ADVICE_LOSS_RATE) {\n        advice = calcFnResult(stockItem.bcFn, -EXPECT_LOSS_RATE);\n        advice.amount = (advice.x * stockItem.price).toFixed(2);\n      }\n\n      stockItem.advice = advice;\n      return stockItem;\n    } else {\n      return localStock;\n    }\n  });\n\n  return [...stocks];\n}\n\n// 计算持仓汇总信息\nexport function calcStockSummary(stockList) {\n  let summary = {\n    // 市值\n    marketValue: 0,\n    // 成本金额\n    costValue: 0,\n    // 盈亏金额\n    earnMoney: 0,\n    // 平均盈亏率\n    earnRate: 0,\n    // 建议\n    advice: {\n      // 建议流动资金\n      hotMoney: 0,\n    },\n  };\n\n  summary = stockList.reduce((sum, item) => {\n    const adviceAmount = item.advice ? item.advice.amount : 0;\n\n    sum.marketValue = new Big(item.price).times(item.position).plus(sum.marketValue).valueOf();\n\n    sum.costValue = new Big(item.costPrice).times(item.position).plus(sum.costValue).valueOf();\n\n    sum.advice.hotMoney = new Big(sum.advice.hotMoney).plus(Number(adviceAmount || 0)).valueOf();\n\n    return sum;\n  }, summary);\n\n  summary.earnRate = new Big(summary.marketValue).div(summary.costValue).minus(1).toFixed(4).valueOf();\n  summary.earnMoney = new Big(summary.marketValue).minus(summary.costValue).valueOf();\n\n  return summary;\n}\n","// 第三方股市报价api\nexport const API_BASE_URL = 'https://api.money.126.net/data/feed/';\n\n// 第三方股市财务api\nexport const API_QUOTE_URL = 'https://stock.xueqiu.com/v5/stock/quote.json';\n\n// 刷新间隔（毫秒）\nexport const UPDATE_INTERVAL = 3000;\n\n// 期望承受亏损比率\nexport const EXPECT_LOSS_RATE = -0.06;\n\n// 亏损建议值： 当亏损率为该值，计算建议\nexport const ADVICE_LOSS_RATE = -0.059;\n\n// 持仓股\nexport const STOCKS = [\n  {\n    name: '伊利股份',\n    // 股票代码\n    symbol: '600887',\n    // 成本价\n    costPrice: 30.243,\n    // 仓位，多少股\n    position: 400,\n  },\n  {\n    name: '中国平安',\n    // 股票代码\n    symbol: '601318',\n    // 成本价\n    costPrice: 77.987,\n    // 仓位，多少股\n    position: 200,\n  },\n  {\n    name: '格力电器',\n    // 股票代码\n    symbol: '000651',\n    // 成本价\n    costPrice: 60.625,\n    // 仓位，多少股\n    position: 200,\n  },\n  {\n    name: '东山精密',\n    // 股票代码\n    symbol: '002384',\n    // 成本价\n    costPrice: 28.213,\n    // 仓位，多少股\n    position: 400,\n  },\n  {\n    name: '华天科技',\n    // 股票代码\n    symbol: '002185',\n    // 成本价\n    costPrice: 12.870,\n    // 仓位，多少股\n    position: 100,\n  },\n  {\n    name: '华新水泥',\n    // 股票代码\n    symbol: '600801',\n    // 成本价\n    costPrice: 23.813,\n    // 仓位，多少股\n    position: 400,\n  },\n  {\n    name: '海螺水泥',\n    // 股票代码\n    symbol: '600585',\n    // 成本价\n    costPrice: 51.851,\n    // 仓位，多少股\n    position: 100,\n  },\n];\n","module.exports = __webpack_public_path__ + \"static/media/edit-icon.47681e14.svg\";","module.exports = __webpack_public_path__ + \"static/media/save-icon.c5e730ea.svg\";","module.exports = __webpack_public_path__ + \"static/media/delete-icon.7d8cde5e.svg\";","module.exports = __webpack_public_path__ + \"static/media/add-icon.4f995bf3.svg\";","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Slide from '@material-ui/core/Slide';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nexport default function Rest(props) {\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleConfirm = () => {\n    setOpen(false);\n    props.onConfirm && props.onConfirm();\n  };\n\n  return (\n    <React.Fragment>\n      <Button size=\"small\" onClick={handleClickOpen}>\n        reset\n      </Button>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={handleClose}\n        aria-labelledby=\"alert-dialog-slide-title\"\n        aria-describedby=\"alert-dialog-slide-description\"\n      >\n        <DialogTitle id=\"alert-dialog-slide-title\">确定要重置持仓吗?</DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-slide-description\">\n            重置后持仓将恢复默认的示例数据，该操作不可撤销。\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} color=\"primary\">\n            取消\n          </Button>\n          <Button onClick={handleConfirm} color=\"primary\">\n            确定\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </React.Fragment>\n  );\n}\n","import React, { Component } from 'react';\n\nimport './StockItem.scss';\n\nfunction caclClass(number) {\n  if (number > 0) {\n    return 'red';\n  } else if (number < 0) {\n    return 'green';\n  } else {\n    return 'default';\n  }\n}\n\nfunction calcLink(data) {\n  const bcLinkData = [\n    { type: 0, eq: data.bcFn, color: '#13AD13' },\n    { type: 1000, window: ['-200', '1500', '0', String(Math.abs(data.earnRate * (1.5).toFixed(2)))] },\n  ];\n  const jcLinkData = [\n    { type: 0, eq: data.jcFn, color: '#ED1717' },\n    { type: 1000, window: ['-100', '500', '0', String(Math.abs(data.earnRate * (1.5).toFixed(2)))] },\n  ];\n  const linkData = data.costPrice > data.price ? bcLinkData : jcLinkData;\n  // replace这一步是因为绘图网站http://fooplot.com的base64算法使用-代替=填充\n  const base64 = window.btoa(JSON.stringify(linkData)).replace(/=/g, '-');\n\n  return `http://fooplot.com/#${base64}`;\n}\n\nexport default class StockItem extends Component {\n  // 点击补仓函数跳转至函数绘图网站\n  handleLinkClick(data) {\n    const url = calcLink(data);\n    window.open(url, data.name);\n  }\n\n  render() {\n    const { data } = this.props;\n    // 每股收益\n    const earningsPerShare = data.price - data.costPrice;\n    const earningCls = caclClass(earningsPerShare);\n\n\n    // 计算达到预期亏损的补仓建议\n    let { advice } = data;\n\n    return (\n      <div className={`stock-item ${earningCls}`}>\n        <h3>{data.name || '无名股票'}</h3>\n        <div className=\"stock-spc-item\">\n          <label className=\"stock-item-label\">盈亏比</label>\n          <span className={`stock-item-value ${earningCls} weight`}>{(data.earnRate * 100).toFixed(3)}%</span>\n        </div>\n        <div className=\"stock-spc-item\">\n          <label className=\"stock-item-label\">当前盈亏</label>\n          <span className={`stock-item-value ${earningCls} earn-amount`}>{(data.earnRate * data.costPrice * data.position).toFixed(2)}</span>\n        </div>\n\n        <div className=\"white-blank\"></div>\n\n        <div className=\"stock-spc-item\">\n          <label className=\"stock-item-label\">成本</label>\n          <span className=\"stock-item-value\">{data.costPrice}</span>\n        </div>\n        <div className=\"stock-spc-item\">\n          <label className=\"stock-item-label\">现价</label>\n          <span className=\"stock-item-value weight\">{data.price}</span>\n        </div>\n        <div className=\"stock-spc-item\">\n          <label className=\"stock-item-label\">当前涨幅</label>\n          <span className={`stock-item-value weight ${caclClass(data.percent)}`}>{(data.percent * 100).toFixed(2)}%</span>\n        </div>\n\n        <div className=\"white-blank\"></div>\n\n        <div className=\"stock-spc-item\">\n          <label className=\"stock-item-label\">{earningsPerShare < 0 ? '补仓函数' : '加仓函数'}</label>\n          <span\n            className=\"stock-item-value\"\n            onClick={() => {\n              this.handleLinkClick(data);\n            }}\n          >\n            <span className=\"link\">查看</span>\n            {/* <small className=\"text-weak\">(灰色曲线为函数的导数图)</small> */}\n          </span>\n        </div>\n        \n        <div className=\"white-blank\"></div>\n\n        {advice.x && (\n          <div className=\"stock-spc-item advice-item\">\n            <label className=\"stock-item-label\">建议</label>\n            <span className=\"stock-item-value advice-value\">\n              目前您的亏损超过了{Math.floor(Math.abs(data.earnRate) * 100)}%。建议补仓<b className=\"mark\">{advice.x}</b>\n              手， 需要资金\n              <b className=\"mark\">¥{Math.ceil(data.price * advice.x)}</b>, 可将亏损降至\n              <b className=\"mark\">{(advice.realValue * 100).toFixed(3)}%</b>。\n            </span>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport DeleteIconSrc from '../images/delete-icon.svg';\n\nimport './PositionItem.scss';\n\nconst SCHEMA = {\n  name: {\n    required: false,\n  },\n  symbol: {\n    required: true,\n  },\n  costPrice: {\n    required: true,\n    min: 1,\n  },\n  position: {\n    required: true,\n    min: 100,\n  },\n};\n\nexport default class PostionItem extends Component {\n  state = {\n    stock: {},\n  };\n\n  // handle input item change\n  handleInputChange = (key, e) => {\n    const { stock } = this.state;\n\n    this.setState(\n      {\n        stock: {\n          ...stock,\n          [key]: String(e.target.value).replace(/\\s/g, ''),\n        },\n      },\n      () => {\n        const { onComplete } = this.props;\n        const isValid = this.validateShema();\n\n        isValid && onComplete({ ...this.state.stock });\n      },\n    );\n  };\n\n  validateShema = () => {\n    const { stock } = this.state;\n\n    return Object.keys(SCHEMA).every(schemaKey => {\n      const rule = SCHEMA[schemaKey];\n\n      if (stock[schemaKey]) {\n        return rule.required ? stock[schemaKey] : true;\n      } else {\n        return !rule.required;\n      }\n    });\n  };\n\n  onDelete = e => {\n    const { onDelete, data } = this.props;\n\n    onDelete && onDelete(data, e);\n  };\n\n  render() {\n    const { edit = false, data = {} } = this.props;\n    return (\n      <div className=\"postion-item-box\">\n        {edit ? (\n          <div className=\"position-edit-item\">\n            <div className=\"col stock-name\">\n              <input\n                type=\"text\"\n                defaultValue={data.name || ''}\n                placeholder=\"[可填]名称\"\n                onChange={e => this.handleInputChange('name', e)}\n              />\n            </div>\n            <div className=\"col stock-code\">\n              <input\n                type=\"text\"\n                defaultValue={data.symbol || ''}\n                placeholder=\"* 代码\"\n                onChange={e => this.handleInputChange('symbol', e)}\n              />\n            </div>\n            <div className=\"col stock-cost-price\">\n              <input\n                type=\"number\"\n                defaultValue={data.costPrice || ''}\n                placeholder=\"* 成本\"\n                onChange={e => this.handleInputChange('costPrice', e)}\n              />\n            </div>\n            <div className=\"col stock-postion\">\n              <input\n                type=\"number\"\n                defaultValue={data.position || ''}\n                placeholder=\"* 持仓(股)\"\n                onChange={e => this.handleInputChange('position', e)}\n              />\n            </div>\n          </div>\n        ) : (\n          <div className=\"position-show-item\">\n            <div className=\"col stock-name\">{data.name || ''}</div>\n            <div className=\"col stock-code\">{data.symbol}</div>\n            <div className=\"col stock-cost-price\">{data.costPrice}</div>\n            <div className=\"col stock-postion\">\n              <span>{data.position}</span>\n              <img className=\"delete-btn\" src={DeleteIconSrc} alt=\"delete\" onClick={this.onDelete} />\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport AddIconSrc from '../images/add-icon.svg';\n\nimport './PositionItem.scss';\n\nconst SCHEMA = {\n  name: {\n    required: false,\n  },\n  symbol: {\n    required: true,\n  },\n  costPrice: {\n    required: true,\n    min: 1,\n  },\n  position: {\n    required: true,\n    min: 100,\n  },\n};\n\nexport default class AddPostionItem extends Component {\n  state = {\n    stock: {},\n  };\n\n  // handle input item change\n  handleInputChange = (key, e) => {\n    const { stock } = this.state;\n\n    this.setState(\n      {\n        stock: {\n          ...stock,\n          [key]: String(e.target.value).replace(/\\s/g, ''),\n        },\n      },\n      () => {\n        const { onComplete } = this.props;\n        const isValid = this.validateShema();\n\n        isValid && onComplete({ ...this.state.stock });\n      },\n    );\n  };\n\n  validateShema = () => {\n    const { stock } = this.state;\n\n    return Object.keys(SCHEMA).every(schemaKey => {\n      const rule = SCHEMA[schemaKey];\n\n      if (stock[schemaKey]) {\n        return rule.required ? stock[schemaKey] : true;\n      } else {\n        return !rule.required;\n      }\n    });\n  };\n\n  handleAdd = () => {\n    const { onAdd, stocks = [] } = this.props;\n    const { stock } = this.state;\n    const isValid = this.validateShema();\n\n    const isExitStock = stocks.some(v => String(v.symbol) === stock.symbol);\n\n    if (isExitStock) {\n      alert('该股票已存在了，请不要重复添加');\n    } else if (isValid) {\n      onAdd && onAdd({ ...stock });\n      this.setState({\n        stock: {},\n      });\n    } else {\n      alert('请把上方的数据填写完整，再添加新的一条～');\n    }\n  };\n\n  render() {\n    const { stock } = this.state;\n\n    return (\n      <div className=\"postion-item-box\">\n        <div className=\"position-edit-item\">\n          {/* <div className=\"col stock-name\">\n            <input\n              type=\"text\"\n              value={stock.name || ''}\n              placeholder=\"[可填]名称\"\n              onChange={e => this.handleInputChange('name', e)}\n            />\n          </div> */}\n          <div className=\"col stock-code\">\n            <input\n              type=\"text\"\n              defaultValue={stock.symbol || ''}\n              placeholder=\"* 股票代码\"\n              onChange={e => this.handleInputChange('symbol', e)}\n            />\n          </div>\n          <div className=\"col stock-cost-price\">\n            <input\n              type=\"number\"\n              defaultValue={stock.costPrice || ''}\n              placeholder=\"* 成本\"\n              onChange={e => this.handleInputChange('costPrice', e)}\n            />\n          </div>\n          <div className=\"col stock-postion\">\n            <input\n              type=\"number\"\n              defaultValue={stock.position || ''}\n              placeholder=\"* 持仓(股)\"\n              onChange={e => this.handleInputChange('position', e)}\n            />\n          </div>\n        </div>\n        <div className=\"add-line\">\n          <div className=\"add-line-btn\" onClick={this.handleAdd}>\n            <img src={AddIconSrc} alt=\"add btn\" />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport PositionItem from './PositionItem';\nimport AddPostionItem from './AddPostionItem';\n\nimport './Position.scss';\n\nexport default class Position extends Component {\n  componentDidMount() {\n    const { stocks = [], core } = this.props;\n\n    this.stocks = stocks;\n    core && core(this);\n  }\n\n  handleComplete = (data, index) => {\n    const { stocks = [], onItemComplete } = this.props;\n    const stocksMap = stocks.reduce((map, stock, index) => {\n      stock.index = index;\n      map[stock.symbol] = stock;\n      return map;\n    }, {});\n\n    const sameCodeStocks = Object.values(stocksMap).filter(v => String(v.symbol) === String(data.symbol));\n\n    if (sameCodeStocks.length > 1) {\n      alert('该股票已存在了，你可以点击修改~');\n    } else {\n      data.index = index;\n      stocksMap[data.symbol] = data;\n\n      this.stocks = Object.values(stocksMap).sort((a, b) => a.index - b.index);\n      onItemComplete && onItemComplete(data, this.stocks);\n    }\n  };\n\n  // 点击添加一行按钮\n  handleAddRowClick = (addStockItem) => {\n    const { onAdd } = this.props;\n\n    onAdd && onAdd(this.stocks);\n  };\n\n  onDelete = data => {\n    const { onDelete } = this.props;\n\n    onDelete && onDelete(data);\n  };\n\n  render() {\n    const { stocks } = this.props;\n\n    return (\n      <div className=\"stocks-list-wrap\">\n        <div className=\"postion-list-header\">\n          <div className=\"th\">名称</div>\n          <div className=\"th\">代码</div>\n          <div className=\"th\">成本</div>\n          <div className=\"th\">持仓</div>\n        </div>\n        {stocks.map((stock, index) => (\n          <PositionItem\n            key={stock.symbol}\n            data={stock}\n            onComplete={data => this.handleComplete(data, index)}\n            onDelete={this.onDelete}\n          />\n        ))}\n        {/*添加行 */}\n        <AddPostionItem\n          key={stocks.length}\n          stocks={stocks}\n          onComplete={data => this.handleComplete(data, stocks.length)}\n          onAdd={this.handleAddRowClick}\n        />\n      </div>\n    );\n  }\n}\n","import React from 'react';\n\nexport const stockInitData = {\n  showPostion: false,\n  isEdit: false,\n};\n\nexport function stockInit(initialData) {\n  return { ...stockInitData, ...initialData };\n}\n\nexport function stockReducer(state, action) {\n  console.log('stockReducer', state, action);\n  switch (action.type) {\n    case 'ADD':\n      return { ...state, showPostion: true, isEdit: true };\n    case 'EDIT':\n      return { ...state, showPostion: true, isEdit: true };\n    case 'SAVE':\n      return { ...state, showPostion: false, isEdit: false };\n    case 'RESET':\n      return { ...state, showPostion: false, isEdit: false };\n    case 'INIT':\n      return stockInit(action.payload);\n    case 'SET':\n      return { ...state, ...action.payload };\n    default:\n      return state;\n  }\n}\n\nexport const StockContext = React.createContext(stockInitData);\n","import React, { useState, useEffect, useContext } from 'react';\nimport StockItem from './StockItem';\nimport { formatToLocalStocks } from '../utils/common';\nimport EditIconSrc from '../images/edit-icon.svg';\nimport SaveIconSrc from '../images/save-icon.svg';\nimport Position from './Position';\nimport { StockContext } from '../reducers';\n\nimport './Stock.scss';\n\nconst TYPE_MAP = {\n  asce: 1,\n  desc: -1,\n};\n\nexport default function StockList(props) {\n  const { dispatch } = props;\n  const [stocks, setStocks] = useState([]);\n  const [editStocks, setEditStocks] = useState([]);\n  const [sort, setSort] = useState('default');\n  const [key, type] = sort.split(':');\n  let sortedStocks = [...stocks];\n\n  const stockState = useContext(StockContext);\n\n  useEffect(() => {\n    setStocks(props.list);\n    setEditStocks(props.list);\n  }, [props.list]);\n\n  // 点击添加按钮\n  const handleAdd = stocks => {\n    setEditStocks(stocks);\n  };\n\n  // 持仓添加/修改改变\n  const handlePostionComplete = (data, stocks) => {\n    console.log('编辑', data, stocks);\n  };\n\n  // 保存/修改持仓\n  const hanldPostionClick = type => {\n    if(type === 'edit') {\n      dispatch({\n        type: 'SET',\n        payload: {\n          showPostion: !stockState.showPostion,\n          isEdit: true,\n        },\n      });\n    }\n    if (type === 'save') {\n      const localStocks = formatToLocalStocks(StockList.core.stocks);\n      localStorage.setItem('stocks', JSON.stringify(localStocks));\n      props.onSave && props.onSave();\n      dispatch({ type: 'SAVE' });\n    }\n  };\n\n  // 排序选择权改变\n  const handleSortChange = e => {\n    setSort(e.target.value);\n  };\n\n  // 处理删除持仓\n  const handleDletePosition = data => {\n    const filterStocks = StockList.core.stocks.filter(v => String(v.symbol) !== String(data.symbol));\n\n    setEditStocks([...filterStocks]);\n    StockList.core.stocks = filterStocks;\n  };\n\n  if (key === 'default') {\n    sortedStocks = stocks || [];\n  } else {\n    const ratio = TYPE_MAP[type] || 1;\n    sortedStocks = stocks.sort((s1, s2) => (s1[key] - s2[key]) * ratio);\n  }\n\n  const { showPostion } = stockState;\n\n  return (\n    <div className=\"stock-list-wrap\">\n      <div className=\"tools-box\">\n        <div className=\"sort-tool\">\n          <select onChange={handleSortChange}>\n            <option value=\"default\">默认排序</option>\n            <option value=\"earnRate:asce\">盈亏从低到高⬆</option>\n            <option value=\"earnRate:desc\">盈亏从高到低⬇</option>\n            <option value=\"percent:asce\">涨幅从低到高⬆</option>\n            <option value=\"percent:desc\">涨幅从高到低⬇</option>\n          </select>\n        </div>\n        <div className=\"position-tool\" onClick={() => hanldPostionClick(showPostion ? 'save' : 'edit')}>\n          <span>{showPostion ? '保存' : `${stocks.length <= 0 ? '添加' : '修改'}持仓`}</span>\n          <img src={SaveIconSrc} alt=\"save\" style={{ display: showPostion ? 'block' : 'none' }} />\n          <img src={EditIconSrc} alt=\"edit\" style={{ display: showPostion ? 'none' : 'block' }} />\n        </div>\n      </div>\n      {showPostion && (\n        <Position\n          core={core => (StockList.core = core)}\n          stocks={editStocks || stocks || []}\n          onItemComplete={handlePostionComplete}\n          onAdd={handleAdd}\n          onDelete={handleDletePosition}\n        />\n      )}\n      <div className=\"stock-list\">\n        {sortedStocks.map(stock => (\n          <StockItem key={stock.symbol} data={stock} />\n        ))}\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport Typography from '@material-ui/core/Typography';\nimport StockList from './StockList';\n\nconst useStyles = makeStyles(theme => ({\n  heading: {\n    fontSize: theme.typography.pxToRem(15),\n    flexBasis: '33.33%',\n    flexShrink: 0,\n  },\n  panel: {\n    padding: '8px 18px 24px',\n  }\n}));\n\nexport default function StockPanel(props) {\n  const classes = useStyles();\n  const [expanded, setExpanded] = React.useState('panel2');\n\n  const handleChange = panel => (event, isExpanded) => {\n    setExpanded(isExpanded ? panel : false);\n  };\n\n  const { map, list, onSave, dispatch } = props;\n\n  return (\n    <ExpansionPanel expanded={expanded === 'panel2'} onChange={handleChange('panel2')}>\n      <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />} aria-controls=\"panel2bh-content\" id=\"panel2bh-header\">\n        <Typography className={classes.heading}>持仓</Typography>\n      </ExpansionPanelSummary>\n      <ExpansionPanelDetails className={classes.panel}>\n        <StockList map={map} list={list} onSave={onSave} dispatch={dispatch} />\n      </ExpansionPanelDetails>\n    </ExpansionPanel>\n  );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport Typography from '@material-ui/core/Typography';\n\nconst useStyles = makeStyles(theme => ({\n  panel: {\n    display: 'block',\n  },\n  detial: {\n    display: 'block',\n  },\n  heading: {\n    fontSize: theme.typography.pxToRem(15),\n    flexBasis: '33.33%',\n    flexShrink: 0,\n  },\n  defaultColor: {\n    color: '#888',\n  },\n}));\n\nexport default function SummaryPanel(props) {\n  const classes = useStyles();\n  const [expanded, setExpanded] = React.useState('panel1');\n\n  const handleChange = panel => (event, isExpanded) => {\n    setExpanded(isExpanded ? panel : false);\n  };\n\n  const { summary = {}, list = [] } = props;\n\n  return (\n    <ExpansionPanel className={classes.haha} expanded={expanded === 'panel1'} onChange={handleChange('panel1')}>\n      <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />} aria-controls=\"panel2bh-content\" id=\"panel2bh-header\">\n        <Typography className={classes.heading}>总览</Typography>\n      </ExpansionPanelSummary>\n      <ExpansionPanelDetails className={classes.detial}>\n        {list.length <= 0 ? (\n          <React.Fragment>\n            <Typography display=\"inline\" color=\"error\">\n              请先添加持仓，才能查看总览。\n            </Typography>\n            <Typography display=\"inline\" className={classes.defaultColor} variant=\"body1\">\n              或者点击上方的RESET按钮,参看示例数据。\n            </Typography>\n          </React.Fragment>\n        ) : (\n          <React.Fragment>\n            <Typography display=\"block\" paragraph>\n              <span>你持仓的总市值为{summary.marketValue}。</span>\n              <span>总成本为{summary.costValue}。</span>\n              <span>\n                目前{summary.earnMoney >= 0 ? '盈利' : '亏损'} {Math.abs(summary.earnMoney)}元。\n              </span>\n              <span>盈亏率：{(summary.earnRate * 100).toFixed(2)}%。</span>\n            </Typography>\n            {Object.keys(summary.advice || {}).length > 0 && (\n              <Typography display=\"block\" color=\"error\">\n                建议账户保留流动资金{summary.advice?.hotMoney}元，以应对风险。\n              </Typography>\n            )}\n          </React.Fragment>\n        )}\n      </ExpansionPanelDetails>\n    </ExpansionPanel>\n  );\n}\n","import React, { useEffect, useState, useReducer, useRef } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Reset from './components/Reset';\nimport StockPanel from './components/StockPanel';\nimport SummaryPanel from './components/SummaryPanel';\nimport { API_BASE_URL, UPDATE_INTERVAL } from './constants';\nimport { getStockCodes, calcStockSummary, initData, resetData, mergeStocks } from './utils/common';\nimport { stockReducer, stockInitData, StockContext } from './reducers';\n\nconst $ = window.$;\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: '100%',\n  },\n}));\n// 定时器\nlet timer = null;\n\nexport default function DashBord() {\n  const classes = useStyles();\n  const [stocksMap, setStocksMap] = useState({});\n  const [stockList, setStockList] = useState([]);\n  const [summary, setSummary] = useState({});\n  const [stockState, dispatch] = useReducer(stockReducer, stockInitData);\n  const stockRef = useRef(stockState);\n\n  useEffect(() => {\n    initData();\n    fetchStocks();\n\n    timer = setInterval(() => {\n      fetchStocks();\n    }, UPDATE_INTERVAL);\n    return () => {\n      clearInterval(timer);\n    };\n  }, []);\n\n  // 获取股票信息\n  function fetchStocks() {\n    const localStockStr = localStorage.getItem('stocks');\n    const STOCKS = localStockStr ? JSON.parse(localStockStr) : [];\n    const stockCodes = STOCKS.map(stock => String(stock.symbol));\n    const { isEdit } = stockRef.current;\n\n    if (STOCKS.length <= 0) {\n      setStocksMap({});\n      setStockList([]);\n      setSummary({});\n      return;\n    }\n\n    $ &&\n      !isEdit &&\n      $.ajax({\n        type: 'GET',\n        dataType: 'jsonp',\n        url: `${API_BASE_URL}${getStockCodes(stockCodes).join(',')}`,\n        success: function(serverData, status, xhr) {\n          const stockList = mergeStocks(serverData);\n          const summary = calcStockSummary(stockList);\n          setStocksMap(serverData);\n          setStockList(stockList);\n          setSummary(summary);\n        },\n        error: function(e) {\n          console.error('请求接口错误');\n        },\n      });\n  }\n\n  function handleSave() {\n    fetchStocks();\n  }\n\n  function handleResetConfirm() {\n    dispatch({\n      type: 'SAVE',\n    });\n    stockRef.current = { ...stockState, showPostion: false, isEdit: false };\n    resetData();\n    fetchStocks();\n  }\n\n  stockRef.current = stockState;\n\n  return (\n    <StockContext.Provider value={stockState}>\n      <div className={classes.root}>\n        <h2>\n          STOCK HELPER\n          <Reset onConfirm={handleResetConfirm} />\n        </h2>\n        <SummaryPanel map={stocksMap} list={stockList} summary={summary} />\n        <StockPanel map={stocksMap} list={stockList} onSave={handleSave} dispatch={dispatch} />\n      </div>\n    </StockContext.Provider>\n  );\n}\n","import React from 'react';\nimport Dashbord from './Dashbord';\n\nimport './App.scss';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Dashbord />\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}