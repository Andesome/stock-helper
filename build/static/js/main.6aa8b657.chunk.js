(this["webpackJsonpstock-helper"]=this["webpackJsonpstock-helper"]||[]).push([[0],[,,,,function(module,__webpack_exports__,__webpack_require__){"use strict";function getStockCodes(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return isNaN(e[0])?e.toLowerCase().indexOf("us_")>-1?e.toUpperCase():e.indexOf("hk")>-1?e:e.toLowerCase().replace("sz","1").replace("sh","0"):("6"===e[0]?"0":"1")+e}))}function genFnForBC(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return e.bcFn="((".concat(e.position,"+x)").concat(e.price,")/(").concat(e.costPrice,"*").concat(e.position," + ").concat(e.price,"x)"),e}))}function soryBy(e,t){}function calcFnResult(){for(var formula=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",targetValue=arguments.length>1?arguments[1]:void 0,ratio=100,i=1,flag=!0,realValue=targetValue;flag;){var formulaStr=formula.replace(/x/g,"*".concat(ratio*i)),result=eval(formulaStr);result<=targetValue?(realValue=result,flag=!1):i++,i>100&&(flag=!1)}return{x:ratio*i,targetValue:targetValue,realValue:realValue}}__webpack_require__.d(__webpack_exports__,"b",(function(){return getStockCodes})),__webpack_require__.d(__webpack_exports__,"a",(function(){return calcFnResult}))},,,,,,,,function(e,t,a){e.exports=a(21)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),o=a(9),r=a.n(o),s=(a(17),a(10)),l=a(7),i=a(11),u=a(1),m=a(2),p=a(5),d=a(3),f=a(6),k=a(4),v=[{name:"\u4f0a\u5229\u80a1\u4efd",code:"600887",costPrice:30.243,position:400},{name:"\u4e2d\u56fd\u5e73\u5b89",code:"601318",costPrice:77.987,position:200},{name:"\u683c\u529b\u7535\u5668",code:"000651",costPrice:60.625,position:200},{name:"\u4e1c\u5c71\u7cbe\u5bc6",code:"002384",costPrice:28.213,position:400},{name:"\u534e\u5929\u79d1\u6280",code:"002185",costPrice:12.87,position:100},{name:"\u534e\u65b0\u6c34\u6ce5",code:"600801",costPrice:23.813,position:400},{name:"\u6d77\u87ba\u6c34\u6ce5",code:"600585",costPrice:51.851,position:100}];a(18);function b(e){return e>0?"red":e<0?"green":"default"}var h=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(m.a)(t,[{key:"handleLinkClick",value:function(e){var t=function(e){var t=[{type:0,eq:e.bcFn,color:"#13AD13"},{type:1e3,window:["-200","1500","0",String(Math.abs(e.earnRate*1.5.toFixed(2)))]}],a=[{type:0,eq:e.jcFn,color:"#ED1717"},{type:1e3,window:["-100","500","0",String(Math.abs(e.earnRate*1.5.toFixed(2)))]}],c=e.costPrice>e.price?t:a,n=window.btoa(JSON.stringify(c)).replace(/=/g,"-");return"http://fooplot.com/#".concat(n)}(e);window.open(t,e.name)}},{key:"render",value:function(){var e=this,t=this.props.data,a=t.price-t.costPrice,c=b(a),o={};return a<0&&t.earnRate<=-.059&&(o=Object(k.a)(t.bcFn,.03)),n.a.createElement("div",{className:"stock-item"},n.a.createElement("h3",null,t.name),n.a.createElement("div",{className:"stock-spc-item"},n.a.createElement("label",{className:"stock-item-label"},a<0?"\u8865\u4ed3\u51fd\u6570":"\u52a0\u4ed3\u51fd\u6570",":"),n.a.createElement("span",{className:"stock-item-value link",onClick:function(){e.handleLinkClick(t)}},a<0?t.bcFn:t.jcFn)),n.a.createElement("div",{className:"stock-spc-item"},n.a.createElement("label",{className:"stock-item-label"},"\u76c8\u4e8f:"),n.a.createElement("span",{className:"stock-item-value ".concat(c)},(100*t.earnRate).toFixed(3),"%")),n.a.createElement("div",{className:"stock-spc-item"},n.a.createElement("label",{className:"stock-item-label"},"\u6210\u672c:"),n.a.createElement("span",{className:"stock-item-value"},t.costPrice)),n.a.createElement("div",{className:"white-blank"}),n.a.createElement("div",{className:"stock-spc-item"},n.a.createElement("label",{className:"stock-item-label"},"\u73b0\u4ef7:"),n.a.createElement("span",{className:"stock-item-value"},t.price)),n.a.createElement("div",{className:"stock-spc-item"},n.a.createElement("label",{className:"stock-item-label"},"\u6da8\u5e45:"),n.a.createElement("span",{className:"stock-item-value ".concat(b(t.percent))},(100*t.percent).toFixed(2),"%")),n.a.createElement("div",{className:"white-blank"}),o.x&&n.a.createElement("div",{className:"stock-spc-item advice-item"},n.a.createElement("label",{className:"stock-item-label"},"\u5efa\u8bae:"),n.a.createElement("span",{className:"stock-item-value advice-value"},"\u76ee\u524d\u60a8\u7684\u4e8f\u635f\u8d85\u8fc7\u4e866%\u3002\u5efa\u8bae\u8865\u4ed3",n.a.createElement("b",{className:"mark"},o.x),"\u624b\uff0c \u9700\u8981\u8d44\u91d1",n.a.createElement("b",{className:"mark"},"\xa5",t.price*o.x),", \u53ef\u5c06\u4e8f\u635f\u964d\u81f3",n.a.createElement("b",{className:"mark"},(100*o.realValue).toFixed(3),"%"),"\u3002")))}}]),t}(c.Component),E=(a(19),window.$),g={asce:1,desc:-1},_=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).setSotcks=function(e){var t=Object.values(e).reduce((function(e,t){return e[t.symbol]=t,e}),{}),c=v.map((function(e){if(t[e.code]){var a=Object(i.a)({},e,{},t[e.code]),c=a.costPrice,n=a.price,o=a.position;return c>n?a.bcFn="1-(".concat((o*n).toFixed(2),"+").concat(n,"x)/(").concat(c,"*").concat(o,"+").concat(n,"x)"):a.jcFn="(".concat((o*n).toFixed(2),"+").concat(n,"x)/(").concat(c,"*").concat(o,"+").concat(n,"x)-1"),a.earnRate=n/c-1,a}return e}));a.stocks=Object(l.a)(c),a.setState({stocks:c})},a.handleSortChange=function(e){a.setState({sort:e.target.value})},a.state={stocks:[],sort:"default"},a}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.fetchStocks(),setInterval((function(){e.fetchStocks()}),5e3)}},{key:"componentWillUnmount",value:function(){clearInterval(null)}},{key:"fetchStocks",value:function(){var e=v.map((function(e){return String(e.code)})),t=this;E&&E.ajax({type:"GET",dataType:"jsonp",url:"".concat("https://api.money.126.net/data/feed/").concat(Object(k.b)(e).join(",")),success:function(e,a,c){t.setSotcks(e)},error:function(e){console.error("\u8bf7\u6c42\u63a5\u53e3\u9519\u8bef")}})}},{key:"render",value:function(){var e=this.state,t=e.stocks,a=e.sort.split(":"),c=Object(s.a)(a,2),o=c[0],r=c[1],i=Object(l.a)(t);if("default"===o)i=this.stocks||[];else{var u=g[r]||1;i=t.sort((function(e,t){return(e[o]-t[o])*u}))}return n.a.createElement("div",{className:"stock-list-wrap"},n.a.createElement("h2",null,"STOCK HELPER"),n.a.createElement("div",null,"sort by",n.a.createElement("select",{onChange:this.handleSortChange},n.a.createElement("option",{value:"default"},"default"),n.a.createElement("option",{value:"earnRate:asce"},"\u76c8\u4e8f\u2b06"),n.a.createElement("option",{value:"earnRate:desc"},"\u76c8\u4e8f\u2b07"))),n.a.createElement("div",null,i.map((function(e){return n.a.createElement(h,{key:e.code,data:e})}))))}}]),t}(c.Component);a(20);var w=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(_,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(n.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[12,1,2]]]);
//# sourceMappingURL=main.6aa8b657.chunk.js.map